a["{\"msg\":\"result\",\"id\":\"2260\",\"result\":{\"_id\":\"GfL6945KHznmKaef9\",\"author\":\"Kenny Fraser\",\"authorId\":\"jWW9YLuYPdAR6uR4c\",\"code\":\"const calculateAmountsOwing = (data, minimumCharge) => {\\n\\n}\",\"difficulty\":3.5454545454545454,\"editorId\":\"BkPgkDQGHm66X4Qai\",\"familyId\":\"Si38XejRsaN9WfSAu\",\"instructions\":\"Calculate the amounts owing for each customer of a device rental shop.\\n\\n### Example Data\\n```\\n {\\n    // [id, rate( $/hour )]\\n    deviceLevels: [\\n        [0, 1.00],\\n        [1, 1.50]\\n    ],\\n    // [id, level]\\n    devices: [\\n        [0, 0],\\n        [1, 1]\\n    ],\\n    // [id, name, percentage discount (%), flat rate discount($)]\\n    customers: [\\n        [0, 'John', 10, 5],\\n        [1, 'Sara', 5, 7]\\n    ],\\n    // [id, device, customers, hours]\\n    rentals: [\\n        [0, 1, [0], 10],\\n        [1, 0, [1], 20],\\n        [2, 1, [1,0], 20],\\n    ]\\n  }\\n```\\n\\n**Device cost per hour**\\n\\nEach device has a level and each level has a per hour cost. These values are stored in `devices`  and `deviceLevels` (e.g. device 1 has a level of 1 so it's cost is 1.50/hour).\\n\\n**Device cost per hour per customer**\\n\\nMultiple customers can share a rental for a single device. All costs will be shared equally (e.g. if 2 customers share a 10 hour rental of a device that costs $1/hour each will owe $5).\\n\\n**Customer discounts**\\n\\nEach customer will have both a percentage discount and a flat rate discount. To calculate an after discount amount owing, subtract the customer's percentage discount from the customer's total amount owing then subtract the flat rate. If the after discount amount is less than the `minimumCharge` the `minimumCharge` will be taken as the amount owing.\\n\\n**Inputs**\\n\\n- `data`: See examples.\\n- `minimumCharge`: Minimum charge amount (see \\\"customer discounts\\\" above).\\n\\n**Return value**\\n\\nThe function will return an object indexed by customer name and will include the total amount owing for each customer rounded to two decimal places.\\n\\n### Examples\\n```\\nconst minimumCharge = 10\\nconst data = {\\n    // [id, rate( per/hour )]\\n    deviceLevels: [\\n        [0, 1.00],\\n        [1, 1.50]\\n    ],\\n    // [id, level]\\n    devices: [\\n        [0, 0],\\n        [1, 1]\\n    ],\\n    // [id, name, percentage discount (%), flat rate discount($)]\\n    customers: [\\n        [0, 'John', 10, 5],\\n        [1, 'Sara', 5, 7]\\n    ],\\n    // [id, device, customers, hours]\\n    rentals: [\\n        [0, 1, [0], 10],\\n        [1, 0, [1], 20],\\n        [2, 1, [1,0], 20],\\n    ]\\n  }\\n\\ndata,  minimumCharge ➞ { John: 22, Sara: 26.25 }\\n```\\n\\n### Example Breakdown\\nJohn rented device 1 for 10 hours according to the `rentals` data.\\ndevice 1 is price level 1 and costs $1.50/h according to the `deviceLevels` data so the charge for this device is `1.50 * 10` or `$15`\\n\\nSara rented device 0 for 20 hours according to the `rentals` data.\\nDevice 0 is price level 0 and costs $1.00/h according to the `deviceLevels` data so the charge for this device is `1.00 * 20` or `$20`\\n\\nJohn and Sara shared a rental of device 1 for 20 hours according to the `rentals` data. Device 1 is price level 1 and costs $1.50/h according to the `deviceLevels` data so the charge for this device is `1.50 * 20` or `$30`. John and Sara will split that charge so they will owe `$15` each.\\n\\nJohns owes 15 + 15 or $30. According to the `customers` table, John receives a 10% discount and a further flat rate discount of $5. John owes 30 - (30 * 0.10) - 5 or $22\\n\\nSara owes 20 + 15 or $35. According to the `customers` data Sara receives a 5% discount and a further flat rate discount of $7. Sara owes 35 - (35 * 0.05) - 7 or 26.25.\\n\\n### Notes\\n- There could be any number of devices, device levels, customers, and rentals.\\n- Code readability is important; it won’t be directly tested but choose readability over achieving the goal with the least amount of code possible.\",\"isHidden\":false,\"lab\":\"let data, minimumCharge, expected\\nminimumCharge = 15\\ndata = {\\n  // [id, rate( per/hour )]\\n  deviceLevels: [\\n    [0, 1.00],\\n    [1, 1.50],\\n    [2, 2.00],\\n    [3, 5.00],\\n  ],\\n  // [id, level]\\n  devices: [\\n    [0, 0],\\n    [1, 0],\\n    [2, 2],\\n    [3, 1],\\n    [4, 1],\\n  ],\\n  // [id, name, percentage discount (%), flat rate discount($)]\\n  customers: [\\n    [0, 'John', 15, 5],\\n    [1, 'Lea', 25, 20],\\n    [2, 'Sara', 5, 10],\\n    [3, 'Bob', 0, 50],\\n    [4, 'Eric', 10, 10],\\n  ],\\n  // [id, device, customers, hours]\\n  rentals: [\\n    [0, 1, [1,0], 10],\\n    [1, 2, [2], 24],\\n    [2, 3, [3], 5],\\n    [3, 4, [2, 3], 48],\\n    [4, 1, [1,0], 10],\\n    [5, 2, [1], 24],\\n    [6, 3, [3, 2], 5],\\n    [7, 4, [2, 3, 0], 48],\\n    [8, 0, [4], 10],\\n    [9, 0, [4], 15]\\n  ]\\n}\\nexpected = { John: 23.9, Lea: 23.5, Sara: 96.16, Bob: 21.25, Eric: 15 }\\nTest.assertSimilar(calculateAmountsOwing(data, minimumCharge), expected)\\n\\nminimumCharge = 10\\ndata = {\\n  deviceLevels: [\\n      [0, 1.00],\\n      [1, 1.50]\\n  ],\\n  devices: [\\n      [0, 0],\\n      [1, 1]\\n  ],\\n  customers: [\\n      [0, 'John', 10, 5],\\n      [1, 'Sara', 5, 7]\\n  ],\\n  rentals: [\\n      [0, 1, [0], 10],\\n      [1, 0, [1], 20],\\n      [2, 1, [1,0], 20],\\n  ]\\n}\\nexpected = { John: 22, Sara: 26.25 }\\nTest.assertSimilar(calculateAmountsOwing(data, minimumCharge), expected)\\n\\nminimumCharge = 25\\ndata = {\\n    deviceLevels: [\\n      [0, 1.00],\\n      [1, 3.50],\\n      [2, 2.00],\\n      [3, 5.00],\\n    ],\\n    devices: [\\n      [0, 0],\\n      [1, 0],\\n      [2, 2],\\n      [3, 1],\\n      [4, 1],\\n    ],\\n    customers: [\\n      [0, 'John', 15, 5],\\n      [1, 'Lea', 50, 20],\\n      [2, 'Sara', 5, 100],\\n      [3, 'Bob', 0, 50],\\n      [4, 'Eric', 10, 10],\\n    ],\\n    rentals: [\\n      [0, 1, [1,0], 10],\\n      [1, 2, [2], 24],\\n      [2, 3, [3], 5],\\n      [3, 4, [2, 3], 48],\\n      [4, 1, [1,0], 10],\\n      [5, 2, [1], 24],\\n      [6, 3, [3, 2], 5],\\n      [7, 4, [2, 3, 4], 100],\\n      [8, 0, [4], 10],\\n      [9, 0, [4], 5],\\n      [10, 2, [4], 50]\\n    ]\\n  }\\nexpected = { John: 25, Lea: 25, Sara: 144.55, Bob: 176.92, Eric: 198.5 }\\nTest.assertSimilar(calculateAmountsOwing(data, minimumCharge), expected)\",\"language\":\"javascript\",\"stats\":{\"completed\":{\"ratings\":[5,5,5,5,5,5,3,5,3,0,3,1,3,4,5,2,4,3,5,4,0,3],\"rators\":[\"jWW9YLuYPdAR6uR4c\",\"yjtdwc2AC4jA2RWtn\",\"5Zq3aGdvh4LHBvnJL\",\"65dbBZynphj53nXqA\",\"BBP9BE5mKHRzaRpJr\",\"n5wubRfh6zh8QRymN\",\"cRpaCxYRmGcN3Nsoj\",\"Z2TFRP2tneAgzuDTP\",\"wQ25xzXqh4y3A8NBB\",\"JGBCMpnbbi5ztuFoX\",\"TrLZWqifQpEasrTkt\",\"mHT2bJb5SByfJ8yKS\",\"aEm3Wvj2rFYRL8Lrb\",\"bXaGdBM8FBLHf7N6Y\",\"va3fDAQm4sqSMoy3R\",\"h4jFmtbFn92eA4649\",\"c7uBxu2rgY77H5d79\"],\"total\":19,\"quality\":[]},\"flags\":0},\"summary\":\"Calculate the amounts owing for each customer of a device rental shop.\\n\\nExample Data\\n {\\n    // [id, rate( $/hour )]\\n    deviceLevels: [\\n        [0, 1.00],\\n        [1, 1.50]\\n    ],\\n    // [id, level]\\n    devices: [\\n        [0, 0],\\n        [1, 1]\\n    ],\\n    // [id, name, percentage discount (%), flat rate discount($)]\\n    customers: [\\n        [0, 'John', 10, 5],\",\"tags\":[\"data_structures\",\"algorithms\"],\"timestamp\":{\"$date\":1572926945420},\"title\":\"Calculate Amounts Owing\",\"quality\":0,\"family\":[{\"_id\":\"GfL6945KHznmKaef9\",\"language\":\"javascript\"}]}}"]